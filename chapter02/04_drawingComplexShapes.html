<!doctype html>
<meta charset="utf-8">
<title>Drawing complex shapes</title>
<script src="../library/plugins/traceur-compiler/bin/traceur.js" type="text/javascript"></script>
<script src="../library/plugins/traceur-compiler/src/bootstrap.js" type="text/javascript"></script>
<script>traceur.options.experimental = true;</script>
<script type="module">

//Create a canvas element and 2D drawing context called "ctx"
let canvas = document.createElement("canvas");
canvas.setAttribute("width", "256");
canvas.setAttribute("height", "256");
canvas.style.border = "1px dashed black";
document.body.appendChild(canvas);
let ctx = canvas.getContext("2d");

//Set the line style options
ctx.strokeStyle = "black";
ctx.lineWidth = 3;
//A transparent gray fill color
ctx.fillStyle = "rgba(128, 128, 128, 0.5)";

//Define the shape as a 2D array. Each pair of 
//numbers represents an x,y point coordinate

let triangle = [
  [128, 85],
  [170, 170],
  [85, 170]
];

//Define a `drawPath` function that describes how to draw a series of
//connecting points

function drawPath(shape) {
  //Start drawing from the last point
  let lastPoint = shape.length - 1;
  ctx.moveTo(
    shape[lastPoint][0], 
    shape[lastPoint][1]
  );
  //Use a loop to plot each point
  shape.forEach(point => {
    ctx.lineTo(point[0], point[1]);
  });
}

//Draw the triangle

ctx.beginPath();
drawPath(triangle);
ctx.stroke();
ctx.fill();

</script>
