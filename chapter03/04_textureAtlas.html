<!doctype html>
<meta charset="utf-8">
<title>Texture atlas</title>
<script src="../library/plugins/traceur-compiler/bin/traceur.js" type="text/javascript"></script>
<script src="../library/plugins/traceur-compiler/src/bootstrap.js" type="text/javascript"></script>
<script>traceur.options.experimental = true;</script>
<script type="module">

import {assets} from "../library/utilities";

//Create a canvas element and 2D drawing context called "ctx"
let canvas = document.createElement("canvas");
canvas.setAttribute("width", "256");
canvas.setAttribute("height", "256");
canvas.style.border = "1px dashed black";
document.body.appendChild(canvas);
let ctx = canvas.getContext("2d");

assets.load([
  "images/animals.json"
]).then(() => setup());

function setup() {
  console.log("The texture atlas has loaded");

  //The JSON object:
  console.log(assets["images/animals.json"]);

  //The tileset Image object:
  console.log(assets["images/animals.png"]);

  //The individual frame images
  console.log(assets["cat.png"]);
  console.log(assets["tiger.png"]);
  console.log(assets["hedgehog.png"]);
}
</script>

