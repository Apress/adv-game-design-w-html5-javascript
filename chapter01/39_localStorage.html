<!doctype html>
<meta charset="utf-8">
<title>Local storage</title>
<script src="../library/plugins/traceur-compiler/bin/traceur.js" type="text/javascript"></script>
<script src="../library/plugins/traceur-compiler/src/bootstrap.js" type="text/javascript"></script>
<script>traceur.options.experimental = true;</script>
<script type="module">

  //Create some data, and store it
  let anyNumber = 34;
  localStorage.setItem("data", anyNumber);
 
  //Now, retrieve the stored data
  let loadedData = localStorage.getItem("data");

  //loadedData returns the value as a string, so if you need it
  //to behave like a number, use parseInt
  loadedData = parseInt(loadedData);
  
  //Display it
  console.log(loadedData);
  
  //Displays:
  //34

  //Here's how to save an entire object in localStorage.
  //Put together game data you want to save and 
  //organized it in an object
  
  let gameData = {
    playerName: "Rex",
    levelCompleted: 5,
    score: 84,
    items: ["hat", "umbrella", "katana"]
  };

  //Save the object to local storage as JSON data
  let gameDataJSON = JSON.stringify(gameData);
  localStorage.setItem("gameData", gameDataJSON);

  //Load the saved JSON data
  loadedData = localStorage.getItem("gameData");

  //Convert the JSON data back into a normal JavaScript object
  let data = JSON.parse(loadedData);

  //Display the array of items
  data.items.forEach(item => console.log(item));
  
  //Displays:
  //hat
  //umbrella
  //katana
</script>
